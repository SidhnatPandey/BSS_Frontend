<div class="card-wrapper">
  <div class="card meta-data-card">
    <div class="heading" style="background: linear-gradient(135deg, #4b5320, #6b8e23, #556b2f, #3e4b2b); color: white;
"><h5>Meta Data</h5></div>
    <hr />
    <div class="content">
      <div class="summary">
        <p>
          <strong>Enemy movement summary:</strong> soldiers detected by multiple
          optical sensors near border area.
        </p>
        <!-- <p><strong>DRONE ></strong> Tracking 10 enemy personnel</p> -->
      </div>
      <!-- Sensor Details -->
      <div class="sensors">
        <!-- <div class="child-sensor">
              <h5 style="font-weight: bold;">PTZ</h5>
              <p>
                {{ ptzDetectedObjects }} in field of view<br />
                <span *ngIf="ptzDetectedObjects !== 'No objects detected'" class="small-text">
                  <strong>Start</strong>: {{ oneMinuteBefore | date : "short" }} <br />
                 <strong>End</strong>: {{ currentTime | date : "short" }}</span
                >
              </p>
            </div> -->

        <div
          class="child-sensor"
          *ngFor="let sensor of ['PTZ', 'RAZAK', 'HHTI', 'LORROS']"
          [class.expanded]="expandedSensor === sensor"
        >
          <div class="sensor-header">
            <h5 style="font-weight: bold">{{ sensor }}</h5>
            <i
              class="fa-solid"
              [class.fa-expand]="expandedSensor !== sensor"
              [class.fa-compress]="expandedSensor === sensor"
              (click)="toggleExpand(sensor)"
            ></i>
          </div>

          <div
            class="sensor-content"
            [@expandCollapse]="
              expandedSensor === sensor ? 'expanded' : 'collapsed'
            "
          >
            <p *ngIf="expandedSensor !== sensor">
              {{ ptzDetectedObjects }} in field of view<br />
              <span
                *ngIf="ptzDetectedObjects !== 'No objects detected'"
                class="small-text"
              >
                <strong>Start</strong>: {{ oneMinuteBefore | date : "short"
                }}<br />
                <strong>End</strong>: {{ currentTime | date : "short" }}
              </span>
            </p>

            <div *ngIf="expandedSensor === sensor">
              <p>
                <strong>Detailed View of {{ sensor }}</strong>
              </p>
              <p>
                Additional sensor data, analysis, or video feeds can be
                displayed here.
              </p>
              <ul>
                <li>Detection Accuracy: {{ getSensorAccuracy(sensor) }}%</li>
                <li>Sensor Status: {{ getSensorStatus(sensor) }}</li>
                <li>
                  Active Monitoring:
                  {{ isMonitoringActive(sensor) ? "Yes" : "No" }}
                </li>
              </ul>
            </div>
          </div>
        </div>

        <!-- <div class="child-sensor">
              <h5 style="font-weight: bold;">RAZAK</h5>
              <p>
                {{ ptzDetectedObjects }} in field of view<br />
                <span *ngIf="ptzDetectedObjects !== 'No objects detected'" class="small-text">
                  <strong>Start</strong>: {{ oneMinuteBefore | date : "short" }} <br />
                 <strong>End</strong>: {{ currentTime | date : "short" }}</span
                >
              </p>
            </div>
            <div class="child-sensor">
              <h5 style="font-weight: bold;">HHTI</h5>
              <p>
                {{ hhtiDetectedObjects }} in field of view<br />
                <span *ngIf="hhtiDetectedObjects !== 'No objects detected'" class="small-text">
                  <strong>Start</strong>: {{ oneMinuteBefore | date : "short" }} <br />
                 <strong>End</strong>: {{ currentTime | date : "short" }}</span
                >
              </p>
            </div>
            <div class="child-sensor">
              <h5 style="font-weight: bold;">LORROS</h5>
              <p>
                {{ ptzDetectedObjects }} in field of view<br />
                <span *ngIf="ptzDetectedObjects !== 'No objects detected'" class="small-text">
                  <strong>Start</strong>: {{ oneMinuteBefore | date : "short" }} <br />
                 <strong>End</strong>: {{ currentTime | date : "short" }}</span
                >
              </p>
            </div> -->
      </div>
    </div>
  </div>
</div>
